# IoT Defense

IoT Defense is a collection of scripts and models for detecting anomalies in IoT network/device telemetry. This repository contains data preprocessing, model training, realtime monitoring, and evaluation utilities built around a Random Forest model trained on the RT_IOT2022 dataset.

## Features

- Data preprocessing pipeline for RT_IOT2022
- Random Forest model training and inference
- Realtime monitoring script for streaming IoT telemetry
- Evaluation and accuracy checking utilities

## Repository structure

- `check_accuracy.py` - Evaluate model performance on a holdout or test set.
- `data_preprocessing.py` - Prepare and transform raw CSV data for training and inference.
- `detected_anomalies.csv` - Sample output of detected anomalies (generated by monitoring or examples).
- `random_forest_model.py` - Top-level training/inference wrapper for the Random Forest model.
- `realtime_iot_monitoring.py` - Script to run realtime detection (reads from CSV or stream, depending on configuration).
- `requirements.txt` - Python dependencies.
- `RT_IOT2022.csv` - Dataset used for training and testing (not included by default in some forks).
- `test_sample.csv` - Small sample used for quick functional checks.
- `random_forest_model/` - Package directory containing model implementation.
  - `random_forest_model/random_forest_model.py` - Core model training and helper functions.

## Getting started

These instructions will get you a working copy of the project on your local machine for development and testing.

### Prerequisites

- Python 3.8+ (3.10 recommended)
- Git

### Install dependencies

Windows (PowerShell):

```powershell
python -m venv venv
venv\Scripts\Activate.ps1
pip install --upgrade pip
pip install -r requirements.txt
```

macOS / Linux:

```bash
python3 -m venv venv
source venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
```

## Usage

1) Prepare data

```bash
python data_preprocessing.py --input RT_IOT2022.csv --output processed_data.csv
```

2) Train the model

There are two training entry points in the repo. Use either the top-level wrapper or the module in the `random_forest_model` package.

```bash
python random_forest_model.py
# or
python random_forest_model/random_forest_model.py
```

3) Run realtime monitoring

```bash
python realtime_iot_monitoring.py --source test_sample.csv
```

This script will output detected anomalies to `detected_anomalies.csv` (or a configured sink).

4) Check accuracy

```bash
python check_accuracy.py --predictions detected_anomalies.csv --labels ground_truth.csv
```

## Quick examples

- Run a quick end-to-end smoke test using the sample:

```bash
python data_preprocessing.py --input test_sample.csv --output sample_processed.csv
python random_forest_model.py --predict sample_processed.csv --output sample_preds.csv
python realtime_iot_monitoring.py --source test_sample.csv
```

## Configuration

Many scripts accept command-line parameters. See the top of each script for specific flags and options. If you create or update configuration files, document them in this README or add a `config/` directory.

## Files of interest

- `requirements.txt` — ensure it stays up-to-date when adding 3rd-party libs.
- `random_forest_model/random_forest_model.py` — core model code and hyperparameters.
- `realtime_iot_monitoring.py` — modify this to change how telemetry is consumed (CSV, socket, MQTT, etc.).

## Contributing

Contributions are welcome. Please open an issue to discuss major changes before submitting a pull request. Follow standard GitHub workflow:

1. Fork the repository
2. Create a feature branch
3. Commit tests and changes
4. Open a pull request

## License

This project does not include a license file by default. Add a `LICENSE` file if you intend to make this open source (for example, MIT, Apache-2.0, etc.).

## Contact

Project maintained by AJpacific. For questions, open an issue or contact the maintainer via GitHub.

---

If you'd like, I can also add a `.gitignore`, `LICENSE`, or CI workflow next.
